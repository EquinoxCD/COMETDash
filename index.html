 <!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>COMETDash</title>
  <link rel="stylesheet" href="css/style.css">
  <meta name="description" content="Comet Dashboard">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon.png">

  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#fafafa">
</head>

<body>
<label for="stopsfile">Choose a corrected gtfs file (remove first line)</label>

<input type="file" id="stopsfile" name="Input File" accept="text/txt" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
<script src="GetStops.js", id="stopsgetter"></script>
 <script src="GetTimes.js", id="timesgetter"></script>
 
<script>
//let timesArray = GetTimes()
console.log(timesArray);
  function readFile(event) {
    let file = event.target.files[0];
    if (file) {
      new Promise(function(resolve, reject) {
        let reader = new FileReader();
        reader.onload = function (evt) {
          resolve(evt.target.result);
        };
        reader.readAsText(file);
        reader.onerror = reject;
      })
        .then(processFileContent)
        .catch(function(err) {
          console.log(err)
        });
    }
  }


  document.getElementById("stopsfile")
    .addEventListener('change', readFile, false);

  let StopsArray = [];


  function printArray(arr) {

      for (let y = 0; y < arr.length; y++) {
        for (let x = 0; x < arr[y].length; x++) {


          console.log(arr[x[y]]);
        }

      }



  }

  function processFileContent(data){
    StopsArray = data.split(/\r\n|\r|\n/).map(substr => substr.split(','));

    console.log(StopsArray)

  }






</script>
<script>
let w;
let h;
function preload() {
  // img = loadImage('assets/laDefense.jpg');
}
 
function setup() {

 h = window.innerHeight;
 w = window.innerWidth;
 createCanvas(w, h);

}

function draw() {
  background('white');



  noStroke();
let c = color('rgb(190,200,255)');
fill(c);
rect((w * (30/1024)), h * (20/642), w * (150/1024), h * (600/642), 20);

  noStroke();
let b = color('rgb(190,200,255)');
fill(b);
rect(w * (200/1024), h * (20/642), w * (550/1024), h * (300/642), 20);
  noStroke();
let a = color('rgb(190,200,255)');
fill(a);
rect(w * (200/1024),h * (330/642), w * (240)/1024, h * (290/642), 20);
  noStroke();
let d = color('rgb(190,200,255)');
fill(d);
rect(w * (510/1024),h * (330/642), w * (240/1024), h * (290/642), 20);

  noStroke();
let e = color('rgb(190,200,255)');
fill(e);
rect(w * (870/1024), h * (20/642), w * (150/1024), h * (600/642), 20);

   fill('white'); 
  textSize(32)
  text('Transit Line Names', w * (40/1024), h * (40/642) ,1);

   fill('white'); 
  textSize(32)
  text('MAP', w(512/1024) , h * (150/642),1);

  fill('white'); 
  textSize(32)
  text('Ave Travel Time', w * (330/1024), h * (410/642), 1);

  fill('white'); 
  textSize(32)
  text('Ave Travel Length', w * (630/1024), h * (410/642), 1);

     fill('white'); 
  textSize(32)
  text('Misc. Info', w * (890/1024) , h * (40/642),1);
}


 
</script>
</body>

</html>
